# CSES swap game

## CODE

```cpp
#include <bits/stdc++.h>
#define int long long
#define pii pair<int, int>
#define pb push_back
#define mk make_pair
#define F first
#define S second
#define ALL(x) x.begin(), x.end()
 
using namespace std;
using PQ = priority_queue<int, vector<int>, greater<int>>;
 
const int INF = 2e18;
const int maxn = 3e5 + 5;
const int M = 1e9 + 7;
const int X = 9;
 
int H[11];
int n = 3;
int G, T;
bitset<387420489> dis;
 
int swap (int i, int j, int U) {
    int a = (U / H[i]) % X;
    int b = (U / H[j]) % X;
    U += (b - a) * H[i];
    U += (a - b) * H[j];
 
    return U;
}
 
int BFS (int G) {
    queue<pii> q;
    q.push ({G, 0});
    dis[G] = 1;
 
    while (q.size()) {
        auto [U, s] = q.front ();
        q.pop ();
        if (U == T) return s;
 
        for (int i = 0; i < 9; i++) {
            if (i % 3 != 2) {
                int C = swap (i, i + 1, U);
                if (!dis[C]) {
                    q.push ({C, s + 1});
                    dis[C] = 1;
                }
            }
            if (i < 6) {
                int C = swap (i, i + 3, U);
                if (!dis[C]) {
                    q.push ({C, s + 1});
                    dis[C] = 1;
                }
            }
        }
    }
}
 
void init () {
    H[0] = 1;
    for (int i = 1; i <= 9; i++) {
        H[i] = H[i - 1] * X;
    }
    for (int i = 0; i < 9; i++) {
        T += i * H[i];
    }
    int x;
    for (int i = 0; i < 9; i++) {
        cin >> x;
        x--;
        G += x * H[i];
    }
}
 
void solve () {
    cout << BFS(G) << "\n";
} 
 
signed main() {
    // ios::sync_with_stdio(0);
    // cin.tie(0);
    int t = 1;
    //cin >> t;
    while (t--) {
        init();
        solve();
    }
} 
```

